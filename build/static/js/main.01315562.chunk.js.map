{"version":3,"sources":["components/Filter.js","components/Form.js","components/Person.js","components/PersonsToShow.js","services/conn.js","components/Notification.js","App.js","index.js"],"names":["Filter","filter","setFilter","value","onChange","event","target","Form","handleSubmit","newName","setNewName","newNumber","setNewNumber","onSubmit","type","Person","person","handleDelete","name","number","onClick","id","window","confirm","PersonsToShow","persons","personsToShow","toLowerCase","startsWith","map","key","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notification","message","notificationStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","App","useState","setPersons","msg","setMsg","setColor","useEffect","conn","res","catch","err","console","log","preventDefault","check","length","setTimeout","status","error","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"kOAUeA,EARA,SAAC,GAA2B,IAAzBC,EAAwB,EAAxBA,OAAQC,EAAgB,EAAhBA,UACtB,OACI,kDACsB,2BAAOC,MAAOF,EAAQG,SAAU,SAACC,GAAD,OAAWH,EAAUG,EAAMC,OAAOH,YCajFI,EAhBF,SAAC,GAAmE,IAAlEC,EAAiE,EAAjEA,aAAcC,EAAmD,EAAnDA,QAASC,EAA0C,EAA1CA,WAAYC,EAA8B,EAA9BA,UAAWC,EAAmB,EAAnBA,aACzD,OACI,0BAAMC,SAAUL,GACZ,sCACU,2BAAOL,MAAOM,EAASL,SAAU,SAACC,GAAD,OAAWK,EAAWL,EAAMC,OAAOH,WAE9E,wCACY,2BAAOA,MAAOQ,EAAWP,SAAU,SAACC,GAAD,OAAWO,EAAaP,EAAMC,OAAOH,WAEpF,6BACI,4BAAQW,KAAK,UAAb,UCGCC,EAbF,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,OAAQC,EAAmB,EAAnBA,aAOtB,OAAO,4BACJD,EAAOE,KAAO,IAAMF,EAAOG,OADvB,IAC+B,4BAAQC,QAAS,kBAA6BJ,EAAOK,QALxFC,OAAOC,QAAP,iBAAyBP,EAAOE,QACjCD,EAAaD,EAAOK,OAIgB,YCE3BG,EAVO,SAAC,GAAsC,IAArCC,EAAoC,EAApCA,QAASxB,EAA2B,EAA3BA,OAAQgB,EAAmB,EAAnBA,aAC/BS,EAAgBD,EAAQxB,QAAO,SAACe,GAAD,OAAYA,EAAOE,KAAKS,cAAcC,WAAW3B,EAAO0B,kBAE7F,OACI,4BACKD,EAAcG,KAAI,SAACb,GAAD,OAAY,kBAAC,EAAD,CAAQA,OAAQA,EAAQc,IAAKd,EAAOE,KAAMD,aAAcA,S,gBCN7Fc,EAAU,eAsBD,EApBA,WAEb,OADgBC,IAAMC,IAAN,UAAaF,IACdG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAkB5B,EAfA,SAAAC,GAEb,OADgBL,IAAMM,KAAN,UAAcP,GAAWM,GAC1BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa5B,EAVA,SAACf,EAAIgB,GAElB,OADgBL,IAAMO,IAAN,UAAaR,EAAb,YAAwBV,GAAMgB,GAC/BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQ5B,EALM,SAACf,GAElB,OADgBW,IAAMQ,OAAN,UAAgBT,EAAhB,YAA2BV,IAC5Ba,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCI5BK,EAtBI,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,QACdC,EAAoB,CACtBC,MAFqC,EAAZA,MAGzBC,WAAY,YACZC,SAAU,GACVC,YAAa,QACbC,aAAc,EACdC,QAAS,GACTC,aAAc,IAGlB,OAAgB,OAAZR,EACK,KAIP,yBAAKS,MAAOR,GACTD,IC0EMU,EArFH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACT5B,EADS,KACA6B,EADA,OAEcD,mBAAS,IAFvB,mBAET5C,EAFS,KAEAC,EAFA,OAGkB2C,mBAAS,IAH3B,mBAGT1C,EAHS,KAGEC,EAHF,OAIYyC,mBAAS,IAJrB,mBAITpD,EAJS,KAIDC,EAJC,OAKMmD,mBAAS,MALf,mBAKTE,EALS,KAKJC,EALI,OAMUH,mBAAS,SANnB,mBAMTT,EANS,KAMFa,EANE,KAOhBC,qBAAU,WACRC,IAAczB,MAAK,SAAC0B,GAAD,OAASN,EAAWM,MAAMC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,QACrE,IAyDH,OACE,6BACE,yCACA,kBAAC,EAAD,CAAcpB,QAASa,EAAKX,MAAOA,IACnC,kBAAC,EAAD,CAAQ3C,OAAQA,EAAQC,UAAWA,IACnC,0CACA,kBAAC,EAAD,CACEM,aA9De,SAACH,GACpBA,EAAM4D,iBACN,IAAMC,EAAQzC,EAAQxB,QAAO,SAACe,GAAD,OAAYA,EAAOE,OAAST,KACtDyD,EAAMC,OAAS,EACZ7C,OAAOC,QAAP,UAAkBd,EAAlB,4EACFkD,EAAYO,EAAM,GAAG7C,GAArB,2BAA8B6C,EAAM,IAApC,IAAwC/C,OAAQR,KAC/CuB,MAAK,SAAA0B,GACJN,EAAW7B,EAAQI,KAAI,SAAAb,GAAM,OAAIA,EAAOE,OAASgD,EAAM,GAAGhD,KAAOF,EAAS4C,MAC1EJ,EAAO,iBAAD,OAAkB/C,EAAlB,gBACNgD,EAAS,SACTW,YAAW,WACTZ,EAAO,QACN,QAEJK,OAAM,SAAAC,GACVC,QAAQC,IAAIF,EAAI3B,SAASC,MACE,MAAxB0B,EAAI3B,SAASkC,QACfb,EAAO,kBAAD,OAAmB/C,EAAnB,0CACN6C,EAAW7B,EAAQxB,QAAO,SAAAe,GAAM,OAAIA,EAAOE,OAAST,OAGpD+C,EAAOM,EAAI3B,SAASC,KAAKkC,OAC1Bb,EAAS,OACJW,YAAW,WACTZ,EAAO,QACN,SAIVG,EAAY,CAAEzC,KAAMT,EAASU,OAAQR,IACnCuB,MAAK,SAAA0B,GACLN,EAAW7B,EAAQ8C,OAAOX,IAC1BJ,EAAO,SAAD,OAAU/C,IACbgD,EAAS,YAEZI,OAAM,SAAAC,GACNN,EAAOM,EAAI3B,SAASC,KAAKkC,OACzBb,EAAS,OACTM,QAAQC,IAAIF,EAAI3B,SAASC,SAExBgC,YAAW,WACTZ,EAAO,QACN,MAEL5C,EAAa,IACbF,EAAW,KAkBPD,QAASA,EACTC,WAAYA,EACZC,UAAWA,EACXC,aAAcA,IAEhB,uCACA,kBAAC,EAAD,CAAea,QAASA,EAASxB,OAAQA,EAAQgB,aArBhC,SAACI,GACpBsC,EAAkBtC,GAAIa,MAAK,SAAA0B,GACzBN,EAAW7B,EAAQxB,QAAO,SAAAe,GAAM,OAAIA,EAAOK,KAAOA,SAEnDwC,OAAM,SAAAC,GAAG,OAAGC,QAAQC,IAAIF,WClE7BU,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.01315562.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ filter, setFilter }) => {\r\n    return(\r\n        <div>\r\n            filter shown with:<input value={filter} onChange={(event) => setFilter(event.target.value)}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter;\r\n","import React from 'react'\r\n\r\nconst Form = ({handleSubmit, newName, setNewName, newNumber, setNewNumber }) => {\r\n    return(\r\n        <form onSubmit={handleSubmit}>\r\n            <div>\r\n                name: <input value={newName} onChange={(event) => setNewName(event.target.value)}/>\r\n            </div>\r\n            <div>\r\n                number: <input value={newNumber} onChange={(event) => setNewNumber(event.target.value)}/>\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default Form;\r\n","import React from 'react'\r\n\r\nconst Person = ({ person, handleDelete }) => {\r\n\r\n  const handleDeleteAndConfirm = (id) => {\r\n    if(window.confirm(`Delete ${person.name}`))\r\n      handleDelete(person.id)\r\n  }\r\n\r\n    return(<li>\r\n      {person.name + \" \" + person.number} <button onClick={() => handleDeleteAndConfirm(person.id)}>delete</button>\r\n      </li>\r\n    )\r\n  }\r\n\r\n  export default Person;\r\n  ","import React from 'react'\r\nimport Person from './Person'\r\nconst PersonsToShow = ({persons, filter, handleDelete }) => {\r\n    const personsToShow = persons.filter((person) => person.name.toLowerCase().startsWith(filter.toLowerCase()))\r\n\r\n    return(\r\n        <ul>\r\n            {personsToShow.map((person) => <Person person={person} key={person.name} handleDelete={handleDelete} />)}\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default PersonsToShow;","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(`${baseUrl}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(`${baseUrl}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst handleDelete = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, handleDelete }","import React from 'react'\r\n\r\nconst Notification = ({ message, color }) => {\r\n    const notificationStyle = {\r\n        color: color,\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n      }\r\n\r\n    if (message === null) {\r\n      return null\r\n    }\r\n\r\n    return (\r\n      <div style={notificationStyle}>\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n  \r\n  export default Notification;\r\n","/* eslint-disable no-unused-expressions */\nimport React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport Form from './components/Form'\nimport PersonsToShow from './components/PersonsToShow'\nimport conn from './services/conn'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([]) \n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [msg, setMsg] = useState(null)\n  const [color, setColor] = useState('green')\n  useEffect(() => {\n    conn.getAll().then((res) => setPersons(res)).catch(err => console.log(err))\n  }, [])\n\n  const handleSubmit = (event) => {\n    event.preventDefault()\n    const check = persons.filter((person) => person.name === newName)\n    if(check.length > 0){\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        conn.update(check[0].id, { ...check[0], number: newNumber })\n        .then(res => {\n          setPersons(persons.map(person => person.name !== check[0].name ? person : res))\n          setMsg(`The number of ${newName} is changed`)\n          setColor('green')\n          setTimeout(() => {\n            setMsg(null)\n          }, 5000)\n        })\n        .catch(err => {\n\t\t\t\t\tconsole.log(err.response.data)\n\t\t\t\t\tif(err.response.status !== 400) {\n\t\t\t\t\t\tsetMsg(`information of ${newName} has already been removed from server`)\n\t\t\t\t\t\tsetPersons(persons.filter(person => person.name !== newName))\n\t\t\t\t\t}\n\t\t\t\t\telse \n\t\t\t\t\t\tsetMsg(err.response.data.error)\n\t\t\t\t\tsetColor('red')\n          setTimeout(() => {\n            setMsg(null)\n          }, 5000)\n        })\n      }    \n    } else {\n\t\t\tconn.create({ name: newName, number: newNumber })\n\t\t\t\t.then(res => {\n\t\t\t\t\tsetPersons(persons.concat(res))\n\t\t\t\t\tsetMsg(`Added ${newName}`)\n      \t\tsetColor('green')\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tsetMsg(err.response.data.error)\n\t\t\t\t\tsetColor('red')\n\t\t\t\t\tconsole.log(err.response.data)\n\t\t\t\t})  \n      setTimeout(() => {\n        setMsg(null)\n      }, 5000)\n    }\n    setNewNumber('')\n    setNewName('')\n  }\n\n  const handleDelete = (id) => {\n    conn.handleDelete(id).then(res => {\n      setPersons(persons.filter(person => person.id !== id))\n    })\n    .catch(err=> console.log(err))\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={msg} color={color}/>\n      <Filter filter={filter} setFilter={setFilter} />\n      <h3>Add a note</h3>\n      <Form \n        handleSubmit={handleSubmit} \n        newName={newName} \n        setNewName={setNewName} \n        newNumber={newNumber} \n        setNewNumber={setNewNumber}\n      />\n      <h3>Numbers</h3>\n      <PersonsToShow persons={persons} filter={filter} handleDelete={handleDelete} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}